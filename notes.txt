Dockerfile
----------

FROM python:3.11-slim

# Set working directory
WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy app code
COPY . .

# Create output and template folders if needed
RUN mkdir -p templates output

# Expose port
EXPOSE 5555

# Start with Gunicorn
CMD ["gunicorn", "templateR:app", "--bind", "0.0.0.0:$PORT", "--workers", "4"]


V2 

FROM python:3.11-slim

# Set working directory
WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy app code
COPY . .

# Create output and template folders
RUN mkdir -p templates output

# Expose default port
EXPOSE 5555

# Default to port 5555, but allow override via $PORT
ENV PORT=5555
CMD ["gunicorn", "templateR:app", "--bind", "0.0.0.0:${PORT}", "--workers", "4"]


with 
version: '3.8'

services:
  flaskapp:
    build: .
    ports:
      - "5555:5555"  # Host:Container
    environment:
      - PORT=5555    # Change this to override the default



Build Command
-------------
docker build -t pptx-microservice-0.1 .
Docker stores the built image locally in your system’s Docker image cache — it’s not placed in a folder or file you can browse directly.

to migrate Create a portable archive file pptx-microservice.tar
docker save -o pptx-microservice.tar pptx-microservice-0.1

scp image.tar user@remote-host:/opt/flowio/pptx/images


At destination
docker load -i pptx-microservice.tar

Docker Compose / Stack
----------------------

version: '3.8'

services:
  pptx-filler:
    image: pptx-microservice
    container_name: pptx-microservice-01
    ports:
      - "5556:5555"
    environment:
      - PORT=5556
    volumes:

      - ./filled:/app/filled
      - ./logs:/app/logs
    restart: unless-stopped

Note the environment variable which is passed to the gunicorn port
Note the volumes may as well just be left locally within each container to avoid leakage.



